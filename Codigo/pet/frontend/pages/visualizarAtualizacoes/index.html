<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../css/telaTutor.css" />
    <link
      rel="shortcut icon"
      href="../../assets/patas.png"
      type="image/x-icon"
    />
    <title>Visualizar Atualizações</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/intro.js/7.2.0/introjs.min.css"
    />
    <link rel="stylesheet" href="./assets/style.css" />
  </head>

  <body>
    <aside class="sidebar">
      <header class="sidebar-header">
        <img class="fotoTutor" src="https://thispersondoesnotexist.com/" alt="foto Tutor">
        <h4 id="userName">Carregando...</h4>
      </header>

      <nav>
        <a href="../telaTutor/telaTutor.html">
          <button class="editar">
            <span>
              <i class="material-symbols-outlined">home</i>
              <span>Home</span>
            </span>
          </button>
        </a>
        <a href="../editarTutor/editarTutor.html">
          <button class="editar">
              <span>
                  <i class="material-symbols-outlined">edit</i>
                  <span>Editar perfil</span>
              </span>
          </button>
      </a>
      <a href="../../pages/visualizarPet/index.html">
          <button class="gerenciarPet">
              <span>
                  <i class="material-symbols-outlined">Pet_Supplies</i>
                  <span>Gerenciar pet</span>
              </span>
          </button>
      </a>
      <a href="../../pages/Reservas/index.html">
          <button class="reservas">
              <span>
                  <i class="material-symbols-outlined">visibility</i>
                  <span>Minhas reservas</span>
              </span>
          </button>
      </a>
      <a href="../../pages/visualizarHistorico/historico.html">
          <button class="historico">
              <span>
                  <i class="material-symbols-outlined">history</i>
                  <span>Histórico</span>
              </span>
          </button>
      </a>
      <a href="../../pages/boletimTutor/index.html">
          <button class="boletim">
              <span>
                  <i class="material-symbols-outlined">description</i>
                  <span>Boletim</span>
              </span>
          </button>
      </a>
      <a href="../../pages/visualizarAtualizacoes/index.html">
          <button class="atualizacoes">
              <span>
                  <i class="material-symbols-outlined">update</i>
                  <span>Atualizações</span>
              </span>
          </button>
      </a>
        <a href="#" onclick="logout(); return false;">
          <button>
            <span>
              <i class="material-symbols-outlined">logout</i>
              <span>Sair</span>
            </span>
          </button>
        </a>
      </nav>
    </aside>

    <!--menu mobile-->
    <button class="button-mobile" onclick="toggleMenu()">
      <i class="material-symbols-outlined">menu</i>
      <span></span>
    </button>

    <nav class="menu-mobile" id="menu-mobile">
      <button class="button-close" onclick="toggleMenu()">
        <span>
          <i class="material-symbols-outlined">close</i>
        </span>
      </button>
      <a href="../editarTutor/editarTutor.html">
        <button>
          <span>
            <i class="material-symbols-outlined">edit</i>
            <span class="mobile-text">Editar perfil</span>
          </span>
        </button>
      </a>
      <a href="../visualizarPet/index.html">
        <button>
          <span>
            <i class="material-symbols-outlined">pets</i>
            <span class="mobile-text">Gerenciar pet</span>
          </span>
        </button>
      </a>
      <a href="../Reservas/index.html">
        <button>
          <span>
            <i class="material-symbols-outlined">calendar_month</i>
            <span class="mobile-text">Minhas reservas</span>
          </span>
        </button>
      </a>
      <a href="../BoletimComportamental/lista_boletins.html">
        <button>
          <span>
            <i class="material-symbols-outlined">description</i>
            <span class="mobile-text">Boletim</span>
          </span>
        </button>
      </a>
      <a href="../visualizarAtualizacoes/index.html">
        <button>
          <span>
            <i class="material-symbols-outlined">update</i>
            <span class="mobile-text">Atualizações</span>
          </span>
        </button>
      </a>
      <a href="#" onclick="logout(); return false;">
        <button>
          <span>
            <i class="material-symbols-outlined">logout</i>
            <span class="mobile-text">Sair</span>
          </span>
        </button>
      </a>
    </nav>

    <main class="main">
      <div class="content">
        <div class="painel-bemvindo">
          <h1>Atualizações dos Pets</h1>
        </div>

        <div class="card-container">
          <!-- Cards de atualizações serão inseridos aqui dinamicamente -->
        </div>

        <!-- Modal para visualizar detalhes da atualização -->
        <div class="modal-overlay" id="modal-detalhes">
          <div class="modal">
            <div class="close-icon" onclick="fecharModalDetalhes()">×</div>
            <h2>Detalhes da Atualização</h2>
            <div class="detalhes-content">
              <h3 id="pet-nome"></h3>
              <p id="data-atualizacao"></p>
              <div class="checklist">
                <div class="check-item">
                  <span class="label">Comeu bem:</span>
                  <span id="comeu-bem"></span>
                </div>
                <div class="check-item">
                  <span class="label">Tomou banho:</span>
                  <span id="tomou-banho"></span>
                </div>
                <div class="check-item">
                  <span class="label">Fez exercícios:</span>
                  <span id="fez-exercicios"></span>
                </div>
                <div class="check-item">
                  <span class="label">Brincou:</span>
                  <span id="brincou"></span>
                </div>
                <div class="check-item">
                  <span class="label">Descansou bem:</span>
                  <span id="descansou-bem"></span>
                </div>
              </div>
              <div class="observacoes">
                <h4>Observações:</h4>
                <p id="observacoes-texto"></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script src="./assets/script.js" defer></script>
    <script src="../../js/auth.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intro.js/7.2.0/intro.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        requireUserType('Tutor');
        
        const user = getCurrentUser();
        if (user) {
          document.getElementById('userName').textContent = user.nome;
        }
      });
    </script>
  </body>
</html>
